/**
 * Unobtrusive scripting adapter for jQuery
 *
 * Requires jQuery 1.4.3 or later.
 * https://github.com/rails/jquery-ujs
 */
(function(e){function t(t,n,r){var i=new e.Event(n);return t.trigger(i,r),i.result!==!1}function n(n){var r,i,s,o=n.attr("data-type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.is("form")){r=n.attr("method"),i=n.attr("action"),s=n.serializeArray();var u=n.data("ujs:submit-button");u&&(s.push(u),n.data("ujs:submit-button",null))}else r=n.attr("data-method"),i=n.attr("href"),s=null;e.ajax({url:i,type:r||"GET",data:s,dataType:o,beforeSend:function(e,r){return r.dataType===undefined&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),t(n,"ajax:beforeSend",[e,r])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])}})}function r(t){var n=t.attr("href"),r=t.attr("data-method"),i=e("meta[name=csrf-token]").attr("content"),s=e("meta[name=csrf-param]").attr("content"),o=e('<form method="post" action="'+n+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';s!==undefined&&i!==undefined&&(u+='<input name="'+s+'" value="'+i+'" type="hidden" />'),o.hide().append(u).appendTo("body"),o.submit()}function i(t){t.find("input[data-disable-with]").each(function(){var t=e(this);t.data("ujs:enable-with",t.val()).val(t.attr("data-disable-with")).attr("disabled","disabled")})}function s(t){t.find("input[data-disable-with]").each(function(){var t=e(this);t.val(t.data("ujs:enable-with")).removeAttr("disabled")})}function o(e){var n=e.attr("data-confirm");return!n||t(e,"confirm")&&confirm(n)}function u(t){var n=!1;return t.find("input[name][required]").each(function(){e(this).val()||(n=!0)}),n}e("a[data-confirm], a[data-method], a[data-remote]").live("click.rails",function(t){var i=e(this);if(!o(i))return!1;if(i.attr("data-remote"))return n(i),!1;if(i.attr("data-method"))return r(i),!1}),e("form").live("submit.rails",function(t){var r=e(this);if(!o(r))return!1;if(u(r))return;if(r.attr("data-remote"))return n(r),!1;i(r)}),e("form input[type=submit], form button[type=submit], form button:not([type])").live("click.rails",function(){var t=e(this);if(!o(t))return!1;var n=t.attr("name"),r=n?{name:n,value:t.val()}:null;t.closest("form").data("ujs:submit-button",r)}),e("form").live("ajax:beforeSend.rails",function(t){this==t.target&&i(e(this))}),e("form").live("ajax:complete.rails",function(t){this==t.target&&s(e(this))})})(jQuery);